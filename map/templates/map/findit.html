<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
</head>

<body onLoad="initialize()">
    <script type="text/javascript">
        var map;
        //INITIALIZE
        function initialize() {
            var directionDisplay = new google.maps.DirectionsRenderer();
            var directionsService = new google.maps.DirectionsService();
            // set the default center of the map
            var latlng = new google.maps.LatLng(13.729896, 100.779320);
            // set route options (draggable means you can alter/drag the route in the map)
            var rendererOptions = {
                draggable: true
            };
            directionsDisplay = new google.maps.DirectionsRenderer(rendererOptions);
            // set the display options for the map
            var myOptions = {
                zoom: 16,
                center: latlng,
                mapTypeId: google.maps.MapTypeId.ROADMAP,
                mapTypeControl: false
            };
            // add the map to the map placeholder
            map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
            // bind the map to the directions
            directionsDisplay.setMap(map);
            // point the directions to the container for the direction details
            //‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏•‡∏á‡πÉ‡∏ô id directionsPanel
            directionsDisplay.setPanel(document.getElementById("directionsPanel"));
            // start the geolocation API
            if (navigator.geolocation) {
                // when geolocation is available on your device, run this function
                //‡∏´‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
                navigator.geolocation.getCurrentPosition(foundYou, notFound);
            } else {
                // when no geolocation is available, alert this message
                alert('Geolocation not supported or not enabled.');
            }
        }
        //404CASE
        function notFound(msg) {
            alert('Could not find your location üòû')
        }
        //FOUNDYOU
        function foundYou(position) {
            var geocoder = new google.maps.Geocoder();
            // convert the position returned by the geolocation API to a google coordinate object
            var latlng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
            // then try to reverse geocode the location to return a human-readable address
            geocoder.geocode({
                'latLng': latlng
            }, function (results, status) {
                var address = '';
                if (status == google.maps.GeocoderStatus.OK) {
                    // if the geolocation was recognized and an address was found
                    //‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á‡∏Ñ‡πà‡∏≤ geocode ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ö‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà
                    if (results[0]) {
                        // add a marker to the map on the geolocated point
                        //‡∏£‡∏∞‡∏ö‡∏∏‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà/‡∏û‡∏¥‡∏Å‡∏±‡∏î
                        marker = new google.maps.Marker({
                            position: latlng,
                            map: map
                        });
                        // compose a string with the address parts
                        //‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà
                        address = results[0].address_components[1].long_name + ' ' + results[0].address_components[0].long_name + ', ' + results[0].address_components[3].long_name
                        // set the located address to the link, show the link and add a click event handler
                        //‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡πÉ‡∏ä‡πâ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å
                        $('.autoLink span').html(address).parent().show().click(function () {
                            // onclick, set the geocoded address to the start-point formfield
                            $('#routeStart').val(address);
                            // call the calcRoute function to start calculating the route
                            calcRoute();
                        });
                    }
                } else {
                    // if the address couldn't be determined, alert and error with the status message
                    alert("Geocoder failed due to: " + status);
                }
            });
        }
        //CALLROUTE
        function calcRoute() {
            //‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ï‡∏±‡∏ß‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á
            var directionDisplay = new google.maps.DirectionsRenderer();
            //‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ï‡∏±‡∏ß‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á
            var directionsService = new google.maps.DirectionsService();
            // get the travelmode, startpoint and via point from the form   
            var travelMode = $('input[name="travelMode"]:checked').val();
            var start = $("#routeStart").val();
            var end = $("#routeEnd").val();
            // compose a array with options for the directions/route request
            var request = {
                origin: start,
                destination: end,
                unitSystem: google.maps.UnitSystem.IMPERIAL,
                travelMode: google.maps.DirectionsTravelMode[travelMode]
            };
            // call the directions API
            directionsService.route(request, function (response, status) {
                //‡∏´‡∏≤‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏à‡∏∞‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÉ‡∏ô directionspanel
                if (status == google.maps.DirectionsStatus.OK) {
                    // directions returned by the API, clear the directions panel before adding new directions
                    $('#directionsPanel').empty();
                    // display the direction details in the container
                    directionsDisplay.setDirections(response);
                } else {
                    // alert an error message when the route could nog be calculated. ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏´‡∏≤‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏î‡πâ
                    if (status == 'ZERO_RESULTS') {
                        alert('No route could be found between the origin and destination.');
                    } else if (status == 'UNKNOWN_ERROR') {
                        alert(
                            'A directions request could not be processed due to a server error. The request may succeed if you try again.'
                            );
                    } else if (status == 'REQUEST_DENIED') {
                        alert('This webpage is not allowed to use the directions service.');
                    } else if (status == 'OVER_QUERY_LIMIT') {
                        alert('The webpage has gone over the requests limit in too short a period of time.');
                    } else if (status == 'NOT_FOUND') {
                        alert('At least one of the origin, destination, or waypoints could not be geocoded.');
                    } else if (status == 'INVALID_REQUEST') {
                        alert('The DirectionsRequest provided was invalid.');
                    } else {
                        alert("There was an unknown error in your request. Requeststatus: nn" + status);
                    }
                }
            });
        }
    </script>
    <form action="#" onSubmit="calcRoute();return false;" id="routeForm">
        <!-- ‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà -->
        <label>
            From: <br />
            <input type="text" id="routeStart" value="KMITL">
            <!-- ‡∏ñ‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô -->
            <a href="#" class="autoLink" style="display: none;">Use current location: <span>not found</span></a>
        </label>
        <!-- ‡πÑ‡∏õ‡∏ó‡∏µ‡πà -->
        <label>
            To: <br />
            <input type="text" id="routeEnd" value="IT KMITL">
        </label>
        <!-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á -->
        <label><input type="radio" name="travelMode" value="DRIVING" checked /> Driving</label>
        <label><input type="radio" name="travelMode" value="TRANSIT" /> Walking</label>
        <input type="submit" value="Calculate route">
    </form>
    <!-- ‡πÅ‡∏°‡∏û‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏î‡∏¥‡∏ü‡∏ô‡∏µ‡πâ -->
    <div id="map_canvas" style="width:100%; height:300px">
    </div>
    <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á -->
    <div id="directionsPanel">
        Enter a starting point and click "Calculate route".
    </div>
    <!-- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô key ‡∏Ç‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏≠‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏î‡πâ‡∏ß‡∏¢ -->
    <script async
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDHs4JtuQhQ26ikLpiahWttU2LLK4n2ygA&callback=initialize&libraries=places">
    </script>
</body>

</html>